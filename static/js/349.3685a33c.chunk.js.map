{"version":3,"file":"static/js/349.3685a33c.chunk.js","mappings":"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","sources":["hooks/useLocalStorage.js","components/Pagination/Pagination.js","utils/sortByName.js","webpack://rick_and_morty_app/./src/components/CharactersList/CharactersList.module.scss?293d","components/CharactersList/CharactersList.js","assets/icons/SearchSvg.jsx","webpack://rick_and_morty_app/./src/components/FilterInput/FilterInput.module.scss?20a2","components/FilterInput/FilterInput.js","utils/getUsersIdArr.js","webpack://rick_and_morty_app/./src/components/Logo/Logo.module.scss?07fc","components/Logo/Logo.js","pages/Home/Home.js","services/apiService.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport const useLocalStorage = (key, initialState) => {\n  const [data, setData] = useState(\n    JSON.parse(localStorage.getItem(key)) ?? initialState\n  );\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(data));\n  }, [data, key]);\n\n  return [data, setData];\n};\n","import * as React from 'react';\nimport Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nimport { Box } from '@mui/system';\n\nexport default function BasicPagination({ count, page, onChange }) {\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', mt: 3, mb: 6 }}>\n      <Stack spacing={2}>\n        <Pagination count={count} page={page} onChange={onChange} />\n      </Stack>\n    </Box>\n  );\n}\n","export const sortByName = arr =>\n  arr.sort((a, b) => a.name.localeCompare(b.name));\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"CharactersList_list__HxP1A\",\"item\":\"CharactersList_item__rhFAJ\",\"imgContainer\":\"CharactersList_imgContainer__t8HEY\",\"img\":\"CharactersList_img__KSZfx\",\"descContainer\":\"CharactersList_descContainer__ZUAb0\",\"title\":\"CharactersList_title__vm+d4\",\"desc\":\"CharactersList_desc__tbdqA\"};","import { NavLink, useLocation } from 'react-router-dom';\nimport routes from 'utils/routes';\nimport { sortByName } from 'utils/sortByName';\nimport s from './CharactersList.module.scss';\n\nconst CharactersList = ({ users }) => {\n  const { pathname, search } = useLocation();\n\n  return (\n    <>\n      {users.length > 0 ? (\n        <ul className={s.list}>\n          {sortByName(users).map(({ id, image, gender, name }) => (\n            <li key={id} className={s.item}>\n              <NavLink\n                to={`${routes.home}${id}`}\n                state={{ prevLocationPath: pathname + search }}\n              >\n                <div className={s.imgContainer}>\n                  <img className={s.img} src={image} alt={name} />\n                </div>\n                <div className={s.descContainer}>\n                  <h4 className={s.title}> {name.slice(0, 16)}</h4>\n                  <p className={s.desc}>{gender}</p>\n                </div>\n              </NavLink>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>Not found characters</p>\n      )}\n    </>\n  );\n};\n\nexport default CharactersList;\n","import * as React from 'react';\n\nconst SearchSvg = props => (\n  <svg\n    width=\"18\"\n    height=\"18\"\n    viewBox=\"0 0 18 18\"\n    // fill=\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z\"\n      // fill=\"black\"\n      // fill-opacity=\"0.54\"\n    />\n  </svg>\n);\n\nexport default SearchSvg;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"FilterInput_form__iafCE\",\"input\":\"FilterInput_input__VQbwc\",\"svg\":\"FilterInput_svg__jgmNC\"};","import SearchSvg from 'assets/icons/SearchSvg';\nimport s from './FilterInput.module.scss';\n\nconst FilterInput = ({ onChangeFilter, filter }) => {\n  // const onChange = e => {\n  //   const value = e.target.value;\n\n  //   onChangeFilter(value);\n  // };\n  return (\n    <form action=\"\" className={s.form}>\n      <input\n        className={s.input}\n        type=\"text\"\n        placeholder=\"Filter by name...\"\n        name=\"filter\"\n        onInput={onChangeFilter}\n        value={filter}\n      />\n      <SearchSvg className={s.svg} />\n    </form>\n  );\n};\n\nexport default FilterInput;\n","import { sortByName } from './sortByName';\n\nexport const getUsersIdArr = totalUsers => {\n  const countArrsUserId = Math.ceil(totalUsers / 8);\n  let arrWithArrsUsersId = Array.from(\n    { length: countArrsUserId },\n    el => (el = [])\n  );\n\n  let indexArr = 0;\n  for (let i = 1; i <= totalUsers; i++) {\n    arrWithArrsUsersId[indexArr].push(i);\n    if (arrWithArrsUsersId[indexArr].length === 8) {\n      indexArr += 1;\n    }\n  }\n\n  return arrWithArrsUsersId;\n};\n\nexport const getUsersIdArrByName = arr => {\n  const arrWithUsers = sortByName(arr);\n  const countArrsUserId = Math.ceil(arrWithUsers.length / 8);\n  let arrWithArrsUsersId = Array.from(\n    { length: countArrsUserId },\n    el => (el = [])\n  );\n\n  let indexArr = 0;\n  for (let i = 0; i < arrWithUsers.length; i++) {\n    const el = arrWithUsers[i].id;\n    arrWithArrsUsersId[indexArr].push(el);\n\n    if (arrWithArrsUsersId[indexArr].length === 8) {\n      indexArr += 1;\n    }\n  }\n\n  return arrWithArrsUsersId;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"logoContainer\":\"Logo_logoContainer__UiaE9\"};","import logo from 'assets/images/logo.webp';\nimport s from './Logo.module.scss';\nconst Logo = () => {\n  return (\n    <div className={s.logoContainer}>\n      <img className={s.logo} src={logo} alt=\"logo\" />\n    </div>\n  );\n};\n\nexport default Logo;\n","import BasicPagination from 'components/Pagination/Pagination';\nimport CharactersList from 'components/CharactersList/CharactersList';\nimport FilterInput from 'components/FilterInput/FilterInput';\nimport Loader from 'components/Loader/Loader';\nimport { useLocalStorage } from 'hooks/useLocalStorage';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport {\n  fetchCHaracter,\n  fetchCHaracterByName,\n  fetchTotalCountUsers,\n} from 'services/apiService';\nimport { getUsersIdArr, getUsersIdArrByName } from 'utils/getUsersIdArr';\nimport Logo from 'components/Logo/Logo';\n\nconst Home = () => {\n  const [arrWithIds, setArrWithIds] = useState([]);\n  const [page, setPage] = useLocalStorage('page_r&m', 1);\n  const [users, setUsers] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const [filter, setFilter] = useState(query ?? '');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const onChangePage = (e, p) => {\n    setPage(p);\n  };\n\n  const onChangeFilter = e => {\n    const value = e.target.value;\n    if (filter) {\n      setSearchParams({ query: value });\n      setPage(1);\n    }\n    setFilter(value);\n  };\n\n  const getArrWithId = async () => {\n    try {\n      const countUsers = await fetchTotalCountUsers();\n      setArrWithIds(getUsersIdArr(countUsers));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getCharactersByName = async name => {\n    setIsLoading(true);\n    try {\n      const { data } = await fetchCHaracterByName(name);\n      setUsers(data.results.length ? data.results : [data.results]);\n      setArrWithIds(getUsersIdArrByName(data.results));\n    } catch (err) {\n      setUsers([]);\n      setArrWithIds([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!filter) {\n      getArrWithId();\n    } else {\n      getCharactersByName(filter);\n    }\n  }, [filter]);\n\n  const getAllCharacters = async arrUsersId => {\n    setIsLoading(true);\n\n    try {\n      const { data } = await fetchCHaracter(arrUsersId);\n      setUsers(data.length ? data : [data]);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (arrWithIds.length > 0) {\n      getAllCharacters(arrWithIds[page - 1]);\n    }\n  }, [arrWithIds, page]);\n\n  return (\n    <>\n      <Logo />\n      <FilterInput onChangeFilter={onChangeFilter} filter={filter} />\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <CharactersList users={users} />\n          {arrWithIds.length > 1 && (\n            <BasicPagination\n              count={arrWithIds.length}\n              page={page}\n              onChange={onChangePage}\n            />\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\nconst MAIN_URL = `https://rickandmortyapi.com/api`;\n\naxios.defaults.baseURL = MAIN_URL;\n\nexport async function fetchTotalCountUsers() {\n  try {\n    const resp = await axios.get(`/character`);\n\n    return resp.data.info.count;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchCHaracter(arrUsers) {\n  try {\n    const resp = await axios.get(`/character/${arrUsers}\n`);\n\n    return resp;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchCHaracterByName(name) {\n  try {\n    const resp =\n      await axios.get(`/character/?gender=&status=&species=&name=${name}\n`);\n    return resp;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["useLocalStorage","key","initialState","useState","JSON","parse","localStorage","getItem","data","setData","useEffect","setItem","stringify","BasicPagination","count","page","onChange","Box","sx","display","justifyContent","mt","mb","Stack","spacing","Pagination","sortByName","arr","sort","a","b","name","localeCompare","users","useLocation","pathname","search","length","className","s","map","id","image","gender","to","routes","state","prevLocationPath","src","alt","slice","props","width","height","viewBox","xmlns","d","onChangeFilter","filter","action","type","placeholder","onInput","value","getUsersIdArr","totalUsers","countArrsUserId","Math","ceil","arrWithArrsUsersId","Array","from","el","indexArr","i","push","getUsersIdArrByName","arrWithUsers","logo","arrWithIds","setArrWithIds","setPage","setUsers","useSearchParams","searchParams","setSearchParams","query","get","setFilter","isLoading","setIsLoading","getArrWithId","fetchTotalCountUsers","countUsers","console","log","getCharactersByName","fetchCHaracterByName","results","getAllCharacters","arrUsersId","fetchCHaracter","e","target","Loader","p","axios","resp","info","error","arrUsers"],"sourceRoot":""}